<template name="requests">
  <div class="requests">
    <h4>Requests</h4>
    {{> dj_events}}
    {{> request_sorting}}
    {{> requests_details}}
    {{> dismissed_tracks}}
  </div>
</template>

<template name="request_sorting">
  <div class="request-sorting">
    Sort requests by &nbsp;
    <a class="sort-tab active" data-sort-method="time">Request Time</a>
    <a class="sort-tab" data-sort-method="count">Request Count</a>
    <a class="sort-tab" data-sort-method="combo">Priority (Time + Count)</a>
  </div>
</template>

<template name="requests_details">
  <div class="requests-details">
    <ul class="request-list playlist">
      <li class="labels">
        <span class="artist truncate">Artist</span>
        <span class="title truncate">Title</span>
        <span class="age truncate">First Requested</span>
        <span class="count truncate">Count</span>
        <span class="remove">Option</span>
      </li>
      {{#each requests}}
        <li>
          <span class="artist truncate">{{artist}}</span>
          <span class="title truncate">{{title}}</span>
          <span class="age truncate">{{age}} hr(s) ago</span>
          <span class="count truncate">{{count}} hit(s)</span>
          <span class="remove">
            <button class="btn btn-inverse btn-small dismiss" data-id="{{_id}}">Dismiss</button>
            <!-- ({{priority}}) -->
          </span>
        </li>
      {{/each}}
    </ul>
  </div>
</template>

<template name="dismissed_tracks">
  <div class="dismissed-tracks">
    <h4>Dismissed Tacks</h4>
    <ul class="dismissed playlist">
      <li class="labels">
        <span class="artist truncate">Artist</span>
        <span class="title truncate">Title</span>
        <span>Hits Before Reactivate</span>
      </li>
      {{#each dismissedTracks}}
        <li>
          <span class="artist truncate">{{artist}}</span>
          <span class="title truncate">{{title}}</span>
          <span>{{count}}</span>
        </li>
      {{/each}}
    </ul>
  </div>
</template>
